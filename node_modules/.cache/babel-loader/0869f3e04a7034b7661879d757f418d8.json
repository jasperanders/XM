{"ast":null,"code":"var _jsxFileName = \"/home/jasper/Documents/Uni/BachelorArbeit/XM/frontend/src/components/make/Question/MakeMultipleChoice.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { v4 } from \"uuid\";\nimport { Textarea, Button, Input, Flex, Label, Checkbox } from \"theme-ui\";\nexport default function MakeMultipleChoice({\n  register,\n  handleSubmit,\n  getValues,\n  setCurrentAnswerAction,\n  reset\n}) {\n  /**\n   * React Hooks\n   */\n  const [multipeChoiceState, setMultipeChoiceState] = useState({\n    title: \"\",\n    text: \"\",\n    possibleAnswers: []\n  });\n  /**\n   * Redux Hooks\n   */\n\n  const dispatch = useDispatch();\n  const {\n    currentQuestionId\n  } = useSelector(state => state.examState);\n  const questionTable = useSelector(state => state.questionTable);\n  const questionBodyMultipleChoiceTable = useSelector(state => state.questionBodyMultipleChoiceTable);\n  let question = undefined;\n  let questionBody = undefined;\n\n  if (currentQuestionId) {\n    question = questionTable.byId[currentQuestionId];\n    questionBody = questionBodyMultipleChoiceTable.byId[currentQuestionId];\n  }\n  /**\n   * Form Hook\n   */\n\n  /**\n   * Effect\n   *\n   */\n\n\n  useEffect(() => {\n    console.log(\"effect triggerd\");\n\n    if (currentQuestionId) {\n      setMultipeChoiceState(questionBody.possibleAnswers);\n    } else {\n      setMultipeChoiceState([\"\", \"\"]);\n    }\n  }, [currentQuestionId]);\n  useEffect(() => {\n    console.log(\"reset\");\n    reset();\n  }, [possibleAnswers]);\n  /**\n   * Functions\n   */\n\n  const onSubmit = data => {\n    console.log(\"submitted\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Flex, {\n    sx: {\n      flexDirection: \"column\",\n      alignItems: \"flex-start\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    ref: register,\n    name: \"questionTitle\",\n    placeholder: \"Provide a Question Title here\",\n    defaultValue: question ? question.title : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Textarea, {\n    rows: 5,\n    name: \"questionText\",\n    placeholder: \"Provide a question here.\",\n    ref: register,\n    defaultValue: question ? question.text : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    sx: {\n      flexGrow: 0\n    },\n    onClick: () => {\n      setMultipeChoiceState(old => ({ ...old,\n        possibleAnswers: [...old.possibleAnswers, \"\"]\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, \"Add Answer\"), possibleAnswers.map((possibleAnswer, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: v4(),\n      style: {\n        marginTop: \"0.5rem\",\n        alignContent: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Flex, {\n      sx: {\n        flexDirection: \"row\",\n        alignSelf: \"stretch\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      sx: {\n        marginTop: \"0.5rem\"\n      },\n      defaultChecked: false,\n      name: `multipleChoiceAnswer_[${index}]`,\n      ref: register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      ref: register,\n      name: `multipleChoiceAnswerText_[${index}]`,\n      placeholder: \"Provide an Answer\",\n      defaultValue: possibleAnswer ? possibleAnswer : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      sx: {\n        margin: \"0\",\n        marginLeft: \"0.5rem\"\n      },\n      variant: \"warning\",\n      onClick: () => {\n        setMultipeChoiceState(old => {\n          old.possibleAnswer.splice(index, 1);\n          return old;\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, \"x\")));\n  }), /*#__PURE__*/React.createElement(Flex, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    sx: {\n      marginRight: \"0.5rem\"\n    },\n    variant: \"warning\",\n    onClick: () => {\n      reset();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, \"Reset\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, \"Save\"))));\n}","map":{"version":3,"sources":["/home/jasper/Documents/Uni/BachelorArbeit/XM/frontend/src/components/make/Question/MakeMultipleChoice.tsx"],"names":["React","useState","useEffect","useDispatch","useSelector","v4","Textarea","Button","Input","Flex","Label","Checkbox","MakeMultipleChoice","register","handleSubmit","getValues","setCurrentAnswerAction","reset","multipeChoiceState","setMultipeChoiceState","title","text","possibleAnswers","dispatch","currentQuestionId","state","examState","questionTable","questionBodyMultipleChoiceTable","question","undefined","questionBody","byId","console","log","onSubmit","data","flexDirection","alignItems","flexGrow","old","map","possibleAnswer","index","marginTop","alignContent","alignSelf","margin","marginLeft","splice","marginRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { v4 } from \"uuid\";\n\nimport { Textarea, Button, Input, Flex, Label, Checkbox } from \"theme-ui\";\nimport { TRootState } from \"../../../types/examTypes\";\n\nexport default function MakeMultipleChoice({\n  register,\n  handleSubmit,\n  getValues,\n  setCurrentAnswerAction,\n  reset,\n}) {\n  /**\n   * React Hooks\n   */\n\n  const [multipeChoiceState, setMultipeChoiceState] = useState({\n    title: \"\",\n    text: \"\",\n    possibleAnswers: [],\n  });\n\n  /**\n   * Redux Hooks\n   */\n  const dispatch = useDispatch();\n  const { currentQuestionId } = useSelector(\n    (state: TRootState) => state.examState\n  );\n  const questionTable = useSelector((state: TRootState) => state.questionTable);\n  const questionBodyMultipleChoiceTable = useSelector(\n    (state: TRootState) => state.questionBodyMultipleChoiceTable\n  );\n\n  let question = undefined;\n  let questionBody = undefined;\n\n  if (currentQuestionId) {\n    question = questionTable.byId[currentQuestionId];\n    questionBody = questionBodyMultipleChoiceTable.byId[currentQuestionId];\n  }\n\n  /**\n   * Form Hook\n   */\n\n  /**\n   * Effect\n   *\n   */\n\n  useEffect(() => {\n    console.log(\"effect triggerd\");\n    if (currentQuestionId) {\n      setMultipeChoiceState(questionBody.possibleAnswers);\n    } else {\n      setMultipeChoiceState([\"\", \"\"]);\n    }\n  }, [currentQuestionId]);\n\n  useEffect(() => {\n    console.log(\"reset\");\n    reset();\n  }, [possibleAnswers]);\n\n  /**\n   * Functions\n   */\n\n  const onSubmit = (data) => {\n    console.log(\"submitted\");\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <Flex\n        sx={{\n          flexDirection: \"column\",\n          alignItems: \"flex-start\",\n        }}\n      >\n        <Input\n          ref={register}\n          name={\"questionTitle\"}\n          placeholder=\"Provide a Question Title here\"\n          defaultValue={question ? question.title : null}\n        />\n        <Textarea\n          rows={5}\n          name={\"questionText\"}\n          placeholder={\"Provide a question here.\"}\n          ref={register}\n          defaultValue={question ? question.text : null}\n        />\n        <Button\n          sx={{ flexGrow: 0 }}\n          onClick={() => {\n            setMultipeChoiceState((old) => ({\n              ...old,\n              possibleAnswers: [...old.possibleAnswers, \"\"],\n            }));\n          }}\n        >\n          Add Answer\n        </Button>\n\n        {possibleAnswers.map((possibleAnswer, index) => {\n          return (\n            <div\n              key={v4()}\n              style={{ marginTop: \"0.5rem\", alignContent: \"center\" }}\n            >\n              <Flex\n                sx={{\n                  flexDirection: \"row\",\n                  alignSelf: \"stretch\",\n                }}\n              >\n                <Label>\n                  {/* <Controller as={Checkbox} name={multipleChoiceFormName} /> */}\n                  <Checkbox\n                    sx={{ marginTop: \"0.5rem\" }}\n                    defaultChecked={false}\n                    name={`multipleChoiceAnswer_[${index}]`}\n                    ref={register}\n                  />\n                  <Input\n                    ref={register}\n                    name={`multipleChoiceAnswerText_[${index}]`}\n                    placeholder=\"Provide an Answer\"\n                    defaultValue={possibleAnswer ? possibleAnswer : null}\n                  />\n                </Label>\n                <Button\n                  sx={{ margin: \"0\", marginLeft: \"0.5rem\" }}\n                  variant=\"warning\"\n                  onClick={() => {\n                    setMultipeChoiceState((old) => {\n                      old.possibleAnswer.splice(index, 1);\n                      return old;\n                    });\n                  }}\n                >\n                  x\n                </Button>\n              </Flex>\n            </div>\n          );\n        })}\n        <Flex>\n          <Button\n            sx={{ marginRight: \"0.5rem\" }}\n            variant=\"warning\"\n            onClick={() => {\n              reset();\n            }}\n          >\n            Reset\n          </Button>\n          <Button type=\"submit\">Save</Button>\n        </Flex>\n      </Flex>\n    </form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}