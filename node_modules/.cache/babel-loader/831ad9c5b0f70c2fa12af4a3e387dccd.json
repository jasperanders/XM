{"ast":null,"code":"var _jsxFileName = \"/home/jasper/Documents/Uni/BachelorArbeit/XM/frontend/src/components/make/Question/MakeFreeText.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Textarea, Button, Input } from \"theme-ui\";\nimport HttpService from \"../../../services/http\";\nimport apiRoutes from \"../../../services/apiRoutes\";\nexport default function MakeFreeText({\n  register,\n  handleSubmit,\n  getValues,\n  reset,\n  questionId,\n  makeQuestion\n}) {\n  /**\n   * React Hooks\n   */\n  const [makeFreeTextState, setMakeFreeTextState] = useState({\n    title: null,\n    questionText: null,\n    masterAnswer: null\n  });\n  /**\n   * Redux Hooks\n   */\n\n  const dispatch = useDispatch();\n  const questionTable = useSelector(state => state.questionTable);\n  /**\n   * Form Hook\n   */\n\n  useEffect(() => {\n    if (questionId !== null) {\n      setMakeFreeTextState({\n        title: questionTable.byId[questionId].title,\n        questionText: questionTable.byId[questionId].text,\n        masterAnswer: \"\"\n      });\n    } else {\n      setMakeFreeTextState(() => ({\n        title: \"\",\n        questionText: \"\",\n        masterAnswer: \"\"\n      }));\n    }\n\n    reset();\n  }, [questionId]);\n\n  const makeBody = data => {\n    HttpService.post(apiRoutes.FREE_TEXT_QUESTION, {});\n  };\n\n  const makeAnswer = data => {\n    const answerData = data;\n    HttpService.post(apiRoutes.FREE_TEXT_ANSWER, answerData);\n  };\n\n  const onSubmit = data => {\n    console.log(\"submitted\");\n    console.log(data);\n    const questionData = {\n      timeLimitMs: 50000,\n      questionType: \"freeText\",\n      title: data.title\n    };\n    const bodyData = data.makeQuestion(data, {}, makeBody, makeAnswer);\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    ref: register,\n    name: \"questionTitle\",\n    placeholder: \"Provide a Question Title here\",\n    defaultValue: makeFreeTextState.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Textarea, {\n    rows: 5,\n    name: \"questionText\",\n    placeholder: \"Provide a question here.\",\n    ref: register,\n    defaultValue: makeFreeTextState.questionText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Textarea, {\n    rows: 10,\n    name: \"masterAnswer\",\n    placeholder: \"Provide master Answer here\",\n    defaultValue: makeFreeTextState.masterAnswer,\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    sx: {\n      marginRight: \"0.5rem\"\n    },\n    variant: \"warning\",\n    onClick: reset,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, \"Reset\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, \"Save\"));\n}","map":{"version":3,"sources":["/home/jasper/Documents/Uni/BachelorArbeit/XM/frontend/src/components/make/Question/MakeFreeText.tsx"],"names":["React","useEffect","useState","useDispatch","useSelector","Textarea","Button","Input","HttpService","apiRoutes","MakeFreeText","register","handleSubmit","getValues","reset","questionId","makeQuestion","makeFreeTextState","setMakeFreeTextState","title","questionText","masterAnswer","dispatch","questionTable","state","byId","text","makeBody","data","post","FREE_TEXT_QUESTION","makeAnswer","answerData","FREE_TEXT_ANSWER","onSubmit","console","log","questionData","timeLimitMs","questionType","bodyData","marginRight"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { Textarea, Button, Input, Grid } from \"theme-ui\";\nimport { TRootState } from \"../../../types/examTypes\";\nimport HttpService from \"../../../services/http\";\nimport apiRoutes from \"../../../services/apiRoutes\";\n\nexport default function MakeFreeText({\n  register,\n  handleSubmit,\n  getValues,\n  reset,\n  questionId,\n  makeQuestion,\n}) {\n  /**\n   * React Hooks\n   */\n  const [makeFreeTextState, setMakeFreeTextState] = useState({\n    title: null,\n    questionText: null,\n    masterAnswer: null,\n  });\n\n  /**\n   * Redux Hooks\n   */\n\n  const dispatch = useDispatch();\n  const questionTable = useSelector((state: TRootState) => state.questionTable);\n  /**\n   * Form Hook\n   */\n\n  useEffect(() => {\n    if (questionId !== null) {\n      setMakeFreeTextState({\n        title: questionTable.byId[questionId].title,\n        questionText: questionTable.byId[questionId].text,\n        masterAnswer: \"\",\n      });\n    } else {\n      setMakeFreeTextState(() => ({\n        title: \"\",\n        questionText: \"\",\n        masterAnswer: \"\",\n      }));\n    }\n    reset();\n  }, [questionId]);\n\n  const makeBody = (data) => {\n    HttpService.post(apiRoutes.FREE_TEXT_QUESTION, {});\n  };\n\n  const makeAnswer = (data) => {\n    const answerData = data;\n    HttpService.post(apiRoutes.FREE_TEXT_ANSWER, answerData);\n  };\n\n  const onSubmit = (data) => {\n    console.log(\"submitted\");\n    console.log(data);\n    const questionData = {\n      timeLimitMs: 50000,\n      questionType: \"freeText\",\n      title: data.title,\n      \n    };\n    const bodyData = data.makeQuestion(data, {}, makeBody, makeAnswer);\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <Input\n        ref={register}\n        name={\"questionTitle\"}\n        placeholder=\"Provide a Question Title here\"\n        defaultValue={makeFreeTextState.title}\n      />\n      <Textarea\n        rows={5}\n        name={\"questionText\"}\n        placeholder={\"Provide a question here.\"}\n        ref={register}\n        defaultValue={makeFreeTextState.questionText}\n      />\n      <Textarea\n        rows={10}\n        name={\"masterAnswer\"}\n        placeholder={\"Provide master Answer here\"}\n        defaultValue={makeFreeTextState.masterAnswer}\n        ref={register}\n      />\n      <Button sx={{ marginRight: \"0.5rem\" }} variant=\"warning\" onClick={reset}>\n        Reset\n      </Button>\n      <Button type=\"submit\">Save</Button>\n    </form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}