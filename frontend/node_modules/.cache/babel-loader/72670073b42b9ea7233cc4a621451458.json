{"ast":null,"code":"import { combineReducers } from \"@reduxjs/toolkit\";\nimport produce from \"immer\";\nimport { ANSWER_FREE_TEXT_QUESTION, SET_QUESTION_START_TIME, SET_QUESTION_END_TIME, NEXT_QUESTION, SET_APP_TIMER, COUNT_DOWN_APP_TIMER } from \"./actions\";\nimport { initialAnswerTable, initialExamState, initialExamTable, initialQuestionTable, initialAnswerBodyMultipleChoiceTable, initialQuestionBodyMultipleChoiceTable, initialAnswerBodyFreeTextTable, initialQuestionBodyFreeTextTable } from \"./initialState\"; // ================= Basic Tables =====================\n\nfunction questionTable(state = initialQuestionTable, {\n  type,\n  payload\n}) {\n  switch (type) {\n    default:\n      return state;\n  }\n}\n\nfunction answerTable(state = initialAnswerTable, {\n  type,\n  payload\n}) {\n  switch (type) {\n    case SET_QUESTION_START_TIME:\n      return produce(state, draftState => {\n        const answer = draftState.byId[payload.answerId];\n\n        if (answer.timeStart === null) {\n          answer.timeStart = Date.now();\n        }\n      });\n\n    case SET_QUESTION_END_TIME:\n      return produce(state, draftState => {\n        let question = draftState.byId[payload.questionId];\n        question.timeEnd = Date.now();\n        question.timeExpired = true;\n      });\n\n    default:\n      return state;\n  }\n}\n\nfunction examTable(state = initialExamTable, {\n  type,\n  payload\n}) {\n  switch (type) {\n    default:\n      return state;\n  }\n}\n\nfunction examState(state = initialExamState, {\n  type,\n  payload\n}) {\n  switch (type) {\n    case NEXT_QUESTION:\n      return produce(state, d => {\n        const examLength = payload.currentExam.questionsById.length;\n\n        if (d.currentQuestionIndex < examLength - 1) {\n          d.currentQuestionIndex += 1;\n          d.currentQuestionId = payload.currentExam.questionsById[d.currentQuestionIndex];\n        }\n      });\n\n    case SET_APP_TIMER:\n      return produce(state, draftState => {\n        draftState.currentTime = payload.timeLimit;\n        return draftState;\n      });\n\n    case COUNT_DOWN_APP_TIMER:\n      return produce(state, draftState => {\n        if (draftState.currentTime > 0) {\n          draftState.currentTime -= payload.countDownBy;\n          return draftState;\n        } else {\n          console.log(\"TimeOut\");\n        }\n      });\n\n    default:\n      return state;\n  }\n} // ================= Body Tables =====================\n\n\nfunction questionBodyMultipleChoiceTable(state = initialQuestionBodyMultipleChoiceTable, {\n  type,\n  payload\n}) {\n  switch (type) {\n    default:\n      return state;\n  }\n}\n\nfunction questionBodyFreeTextTable(state = initialQuestionBodyFreeTextTable, {\n  type,\n  payload\n}) {\n  switch (type) {\n    default:\n      return state;\n  }\n}\n\nfunction answerBodyFreeTextTable(state = initialAnswerBodyFreeTextTable, {\n  type,\n  payload\n}) {\n  switch (type) {\n    case ANSWER_FREE_TEXT_QUESTION:\n      return produce(state, draftState => {\n        let question = draftState.byId[payload.questionId];\n        question.answerText = payload.answerText;\n      });\n\n    default:\n      return state;\n  }\n}\n\nfunction answerBodyMultipleChoiceTable(state = initialAnswerBodyMultipleChoiceTable, {\n  type,\n  payload\n}) {\n  switch (type) {\n    default:\n      return state;\n  }\n} // =================== Root Reducer =================\n\n\nexport const rootReducer = combineReducers({\n  examTable,\n  questionTable,\n  answerTable,\n  questionBodyMultipleChoiceTable,\n  questionBodyFreeTextTable,\n  answerBodyFreeTextTable,\n  answerBodyMultipleChoiceTable,\n  examState\n});\nexport default rootReducer;","map":{"version":3,"sources":["/home/jasper/Documents/Uni/BachelorArbeit/XM/src/redux/reducers.ts"],"names":["combineReducers","produce","ANSWER_FREE_TEXT_QUESTION","SET_QUESTION_START_TIME","SET_QUESTION_END_TIME","NEXT_QUESTION","SET_APP_TIMER","COUNT_DOWN_APP_TIMER","initialAnswerTable","initialExamState","initialExamTable","initialQuestionTable","initialAnswerBodyMultipleChoiceTable","initialQuestionBodyMultipleChoiceTable","initialAnswerBodyFreeTextTable","initialQuestionBodyFreeTextTable","questionTable","state","type","payload","answerTable","draftState","answer","byId","answerId","timeStart","Date","now","question","questionId","timeEnd","timeExpired","examTable","examState","d","examLength","currentExam","questionsById","length","currentQuestionIndex","currentQuestionId","currentTime","timeLimit","countDownBy","console","log","questionBodyMultipleChoiceTable","questionBodyFreeTextTable","answerBodyFreeTextTable","answerText","answerBodyMultipleChoiceTable","rootReducer"],"mappings":"AAAA,SAASA,eAAT,QAAgC,kBAAhC;AACA,OAAOC,OAAP,MAAoB,OAApB;AACA,SACEC,yBADF,EAEEC,uBAFF,EAGEC,qBAHF,EAIEC,aAJF,EAKEC,aALF,EAMEC,oBANF,QAOO,WAPP;AAQA,SACEC,kBADF,EAEEC,gBAFF,EAGEC,gBAHF,EAIEC,oBAJF,EAKEC,oCALF,EAMEC,sCANF,EAOEC,8BAPF,EAQEC,gCARF,QASO,gBATP,C,CAWA;;AAEA,SAASC,aAAT,CAAuBC,KAAK,GAAGN,oBAA/B,EAAqD;AAAEO,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAArD,EAAwE;AACtE,UAAQD,IAAR;AACE;AACE,aAAOD,KAAP;AAFJ;AAID;;AAED,SAASG,WAAT,CAAqBH,KAAK,GAAGT,kBAA7B,EAAiD;AAAEU,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAjD,EAAoE;AAClE,UAAQD,IAAR;AACE,SAAKf,uBAAL;AACE,aAAOF,OAAO,CAACgB,KAAD,EAASI,UAAD,IAAgB;AACpC,cAAMC,MAAM,GAAGD,UAAU,CAACE,IAAX,CAAgBJ,OAAO,CAACK,QAAxB,CAAf;;AACA,YAAIF,MAAM,CAACG,SAAP,KAAqB,IAAzB,EAA+B;AAC7BH,UAAAA,MAAM,CAACG,SAAP,GAAmBC,IAAI,CAACC,GAAL,EAAnB;AACD;AACF,OALa,CAAd;;AAMF,SAAKvB,qBAAL;AACE,aAAOH,OAAO,CAACgB,KAAD,EAASI,UAAD,IAAgB;AACpC,YAAIO,QAAQ,GAAGP,UAAU,CAACE,IAAX,CAAgBJ,OAAO,CAACU,UAAxB,CAAf;AACAD,QAAAA,QAAQ,CAACE,OAAT,GAAmBJ,IAAI,CAACC,GAAL,EAAnB;AACAC,QAAAA,QAAQ,CAACG,WAAT,GAAuB,IAAvB;AACD,OAJa,CAAd;;AAMF;AACE,aAAOd,KAAP;AAhBJ;AAkBD;;AAED,SAASe,SAAT,CAAmBf,KAAK,GAAGP,gBAA3B,EAA6C;AAAEQ,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAA7C,EAAgE;AAC9D,UAAQD,IAAR;AACE;AACE,aAAOD,KAAP;AAFJ;AAID;;AAED,SAASgB,SAAT,CAAmBhB,KAAK,GAAGR,gBAA3B,EAA6C;AAAES,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAA7C,EAAgE;AAC9D,UAAQD,IAAR;AACE,SAAKb,aAAL;AACE,aAAOJ,OAAO,CAACgB,KAAD,EAASiB,CAAD,IAAO;AAC3B,cAAMC,UAAU,GAAGhB,OAAO,CAACiB,WAAR,CAAoBC,aAApB,CAAkCC,MAArD;;AACA,YAAIJ,CAAC,CAACK,oBAAF,GAAyBJ,UAAU,GAAG,CAA1C,EAA6C;AAC3CD,UAAAA,CAAC,CAACK,oBAAF,IAA0B,CAA1B;AACAL,UAAAA,CAAC,CAACM,iBAAF,GACErB,OAAO,CAACiB,WAAR,CAAoBC,aAApB,CAAkCH,CAAC,CAACK,oBAApC,CADF;AAED;AACF,OAPa,CAAd;;AAQF,SAAKjC,aAAL;AACE,aAAOL,OAAO,CAACgB,KAAD,EAASI,UAAD,IAAgB;AACpCA,QAAAA,UAAU,CAACoB,WAAX,GAAyBtB,OAAO,CAACuB,SAAjC;AACA,eAAOrB,UAAP;AACD,OAHa,CAAd;;AAKF,SAAKd,oBAAL;AACE,aAAON,OAAO,CAACgB,KAAD,EAASI,UAAD,IAAgB;AACpC,YAAIA,UAAU,CAACoB,WAAX,GAAyB,CAA7B,EAAgC;AAC9BpB,UAAAA,UAAU,CAACoB,WAAX,IAA0BtB,OAAO,CAACwB,WAAlC;AACA,iBAAOtB,UAAP;AACD,SAHD,MAGO;AACLuB,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACD;AACF,OAPa,CAAd;;AAQF;AACE,aAAO5B,KAAP;AA1BJ;AA4BD,C,CAED;;;AAEA,SAAS6B,+BAAT,CACE7B,KAAK,GAAGJ,sCADV,EAEE;AAAEK,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAFF,EAGE;AACA,UAAQD,IAAR;AACE;AACE,aAAOD,KAAP;AAFJ;AAID;;AAED,SAAS8B,yBAAT,CACE9B,KAAK,GAAGF,gCADV,EAEE;AAAEG,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAFF,EAGE;AACA,UAAQD,IAAR;AACE;AACE,aAAOD,KAAP;AAFJ;AAID;;AAED,SAAS+B,uBAAT,CACE/B,KAAK,GAAGH,8BADV,EAEE;AAAEI,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAFF,EAGE;AACA,UAAQD,IAAR;AACE,SAAKhB,yBAAL;AACE,aAAOD,OAAO,CAACgB,KAAD,EAASI,UAAD,IAAgB;AACpC,YAAIO,QAAQ,GAAGP,UAAU,CAACE,IAAX,CAAgBJ,OAAO,CAACU,UAAxB,CAAf;AACAD,QAAAA,QAAQ,CAACqB,UAAT,GAAsB9B,OAAO,CAAC8B,UAA9B;AACD,OAHa,CAAd;;AAKF;AACE,aAAOhC,KAAP;AARJ;AAUD;;AAED,SAASiC,6BAAT,CACEjC,KAAK,GAAGL,oCADV,EAEE;AAAEM,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAFF,EAGE;AACA,UAAQD,IAAR;AACE;AACE,aAAOD,KAAP;AAFJ;AAID,C,CAED;;;AAEA,OAAO,MAAMkC,WAAW,GAAGnD,eAAe,CAAC;AACzCgC,EAAAA,SADyC;AAEzChB,EAAAA,aAFyC;AAGzCI,EAAAA,WAHyC;AAIzC0B,EAAAA,+BAJyC;AAKzCC,EAAAA,yBALyC;AAMzCC,EAAAA,uBANyC;AAOzCE,EAAAA,6BAPyC;AAQzCjB,EAAAA;AARyC,CAAD,CAAnC;AAWP,eAAekB,WAAf","sourcesContent":["import { combineReducers } from \"@reduxjs/toolkit\";\nimport produce from \"immer\";\nimport {\n  ANSWER_FREE_TEXT_QUESTION,\n  SET_QUESTION_START_TIME,\n  SET_QUESTION_END_TIME,\n  NEXT_QUESTION,\n  SET_APP_TIMER,\n  COUNT_DOWN_APP_TIMER,\n} from \"./actions\";\nimport {\n  initialAnswerTable,\n  initialExamState,\n  initialExamTable,\n  initialQuestionTable,\n  initialAnswerBodyMultipleChoiceTable,\n  initialQuestionBodyMultipleChoiceTable,\n  initialAnswerBodyFreeTextTable,\n  initialQuestionBodyFreeTextTable,\n} from \"./initialState\";\n\n// ================= Basic Tables =====================\n\nfunction questionTable(state = initialQuestionTable, { type, payload }) {\n  switch (type) {\n    default:\n      return state;\n  }\n}\n\nfunction answerTable(state = initialAnswerTable, { type, payload }) {\n  switch (type) {\n    case SET_QUESTION_START_TIME:\n      return produce(state, (draftState) => {\n        const answer = draftState.byId[payload.answerId];\n        if (answer.timeStart === null) {\n          answer.timeStart = Date.now();\n        }\n      });\n    case SET_QUESTION_END_TIME:\n      return produce(state, (draftState) => {\n        let question = draftState.byId[payload.questionId];\n        question.timeEnd = Date.now();\n        question.timeExpired = true;\n      });\n\n    default:\n      return state;\n  }\n}\n\nfunction examTable(state = initialExamTable, { type, payload }) {\n  switch (type) {\n    default:\n      return state;\n  }\n}\n\nfunction examState(state = initialExamState, { type, payload }) {\n  switch (type) {\n    case NEXT_QUESTION:\n      return produce(state, (d) => {\n        const examLength = payload.currentExam.questionsById.length;\n        if (d.currentQuestionIndex < examLength - 1) {\n          d.currentQuestionIndex += 1;\n          d.currentQuestionId =\n            payload.currentExam.questionsById[d.currentQuestionIndex];\n        }\n      });\n    case SET_APP_TIMER:\n      return produce(state, (draftState) => {\n        draftState.currentTime = payload.timeLimit;\n        return draftState;\n      });\n\n    case COUNT_DOWN_APP_TIMER:\n      return produce(state, (draftState) => {\n        if (draftState.currentTime > 0) {\n          draftState.currentTime -= payload.countDownBy;\n          return draftState;\n        } else {\n          console.log(\"TimeOut\");\n        }\n      });\n    default:\n      return state;\n  }\n}\n\n// ================= Body Tables =====================\n\nfunction questionBodyMultipleChoiceTable(\n  state = initialQuestionBodyMultipleChoiceTable,\n  { type, payload }\n) {\n  switch (type) {\n    default:\n      return state;\n  }\n}\n\nfunction questionBodyFreeTextTable(\n  state = initialQuestionBodyFreeTextTable,\n  { type, payload }\n) {\n  switch (type) {\n    default:\n      return state;\n  }\n}\n\nfunction answerBodyFreeTextTable(\n  state = initialAnswerBodyFreeTextTable,\n  { type, payload }\n) {\n  switch (type) {\n    case ANSWER_FREE_TEXT_QUESTION:\n      return produce(state, (draftState) => {\n        let question = draftState.byId[payload.questionId];\n        question.answerText = payload.answerText;\n      });\n\n    default:\n      return state;\n  }\n}\n\nfunction answerBodyMultipleChoiceTable(\n  state = initialAnswerBodyMultipleChoiceTable,\n  { type, payload }\n) {\n  switch (type) {\n    default:\n      return state;\n  }\n}\n\n// =================== Root Reducer =================\n\nexport const rootReducer = combineReducers({\n  examTable,\n  questionTable,\n  answerTable,\n  questionBodyMultipleChoiceTable,\n  questionBodyFreeTextTable,\n  answerBodyFreeTextTable,\n  answerBodyMultipleChoiceTable,\n  examState,\n});\n\nexport default rootReducer;\n"]},"metadata":{},"sourceType":"module"}